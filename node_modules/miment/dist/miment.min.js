!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.miment=e()}(this,function(){"use strict";function t(){"string"==typeof arguments[0]&&(arguments[0]=arguments[0].replace(/-/g,"/"));var e=new(Function.prototype.bind.apply(Date,[Date].concat(Array.prototype.slice.call(arguments))));return Object.setPrototypeOf(e,t.prototype),Object.setPrototypeOf(t.prototype,Date.prototype),e}Object.setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t};var e=["日","一","二","三","四","五","六"];function s(t,e,s){switch(e){case"YY":case"YYYY":t=s?t:this.getFullYear()+t,this.setFullYear(t);break;case"MM":t=s?t-1:this.getMonth()+t,this.setMonth(t);break;case"DD":t=s?t:this.getDate()+t,this.setDate(t);break;case"hh":t=s?t:this.getHours()+t,this.setHours(t);break;case"mm":t=s?t:this.getMinutes()+t,this.setMinutes(t);break;case"ss":t=s?t:this.getSeconds()+t,this.setSeconds(t);break;case"SSS":t=s?t:this.getMilliseconds()+t,this.setMilliseconds(t);break;case"ww":case"WW":s?(this.setMonth(0),this.setDate(1),this.setDate(7*t),i.call(this)):this.setDate(this.getDate()+7*t)}}function i(){return this.setDate(this.getDate()-this.getDay()),this}return t.prototype.format=function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD hh:mm:ss",i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0,r=void 0,o=void 0,a=void 0,h=void 0,u=void 0,c=void 0,l=void 0;if(i){var g=void 0,p=void 0;this.__distance_begin__>this.__distance_end__?(g=t(this.__distance_begin__),p=t(this.__distance_end__)):(g=t(this.__distance_end__),p=t(this.__distance_begin__)),n=g.getFullYear()-p.getFullYear(),r=g.getMonth()-p.getMonth(),o=g.getDate()-p.getDate(),a=g.getHours()-p.getHours(),h=g.getMinutes()-p.getMinutes(),u=g.getSeconds()-p.getSeconds(),c=Math.abs(g.getDay()-p.getDay()),(l=Math.abs(g.getMilliseconds()-p.getMilliseconds()))<0&&(l+=1e3,u--),u<0&&(u+=60,h--),h<0&&(h+=60,a--),a<0&&(a+=24,o--),o<0&&(o+=p.daysInMonth(),r--),r<0&&(r+=12,n--)}else n=this.getFullYear(),r=this.getMonth()+1,o=this.getDate(),a=this.getHours(),h=this.getMinutes(),u=this.getSeconds(),c=this.getDay(),l=this.getMilliseconds();return s=s.replace("YYYY",n).replace("MM",String(r)[1]?r:"0"+r).replace("DD",String(o)[1]?o:"0"+o).replace("hh",String(a)[1]?a:"0"+a).replace("mm",String(h)[1]?h:"0"+h).replace("ss",String(u)[1]?u:"0"+u).replace("SSS",l).replace("ww",c),s=i?s.replace("WW",c):s.replace("WW",e[c])},t.prototype.stamp=function(){return this.valueOf()},t.prototype.json=function(){return{year:this.getFullYear(),month:this.getMonth()+1,date:this.getDate(),hour:this.getHours(),minute:this.getMinutes(),second:this.getSeconds(),day:this.getDay(),millisecond:this.getMilliseconds()}},t.prototype.get=function(t){var e=String(function(t){switch(t){case"YYYY":return this.getFullYear();case"MM":return this.getMonth()+1;case"DD":return this.getDate();case"hh":return this.getHours();case"mm":return this.getMinutes();case"ss":return this.getSeconds();case"ww":case"WW":return this.getDay();case"SSS":return this.getMilliseconds()}return"00"}.call(this,t));return e[1]||"SSS"==t||"millisecond"==t?e:"0"+e},t.prototype.diff=function(e,s){return s?t(e).valueOf()-t(s).valueOf():this.valueOf()-t(e).valueOf()},t.prototype.isBefore=function(e){return this.valueOf()<t(e).valueOf()},t.prototype.isAfter=function(e){return this.valueOf()>t(e).valueOf()},t.prototype.isBetween=function(e,s){e=t(e).valueOf(),s=t(s).valueOf();var i=this.valueOf();return e>i&&s<i||e<i&&s>i},t.prototype.daysInMonth=function(){return t(this.getFullYear(),this.getMonth()+1,0).getDate()},t.prototype.add=function(t,e){return t||(t=0),s.call(this,t,e),this},t.prototype.sub=function(t,e){return t||(t=0),s.call(this,-t,e),this},t.prototype.set=function(t,e){return t||(t=0),s.call(this,t,e,!0),this},t.prototype.distance=function(e,s){var i=void 0,n=void 0;s?(i=t(e).valueOf(),n=t(s).valueOf()):(i=this.valueOf(),n=t(e).valueOf());var r=t(i-n);return r.__distance_begin__=i,r.__distance_end__=n,r},t.prototype.firstDay=function(){return t(this.getFullYear(),this.getMonth(),1)},t.prototype.lastDay=function(){return t(this.getFullYear(),this.getMonth()+1,0)},t.prototype.firstDayOfWeek=i,t});
